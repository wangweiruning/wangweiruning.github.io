<!DOCTYPE html>
<html lang="en">
<head>
<meta name="generator" content="Hugo 0.48" />
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pannellum</title>
<link rel="stylesheet" href="https://pannellum.org/css/bootstrap.min.css" />
<link rel="stylesheet" href="https://pannellum.org/css/pygments.css" />
<link rel="stylesheet" href="https://cdn.pannellum.org/2.4/pannellum.css" />
<link rel="stylesheet" href="https://pannellum.org/css/style.css">
<style>
  html, body {
      width: 100%;
      height: 100%;
      overflow: hidden;
      margin: 0;
      padding: 0;
    }
  /* #slide-box{
      width:100%;
      z-index: 10000;
      position: absolute;
      bottom: 80px;
      display: -webkit-box;
      overflow-x: scroll;
      background: rgba(0,0,0,0.4);
      -webkit-overflow-scrolling:touch;
    } */
</style>
</head>
<body>
<div id="panorama" style="width:100%;height:100vh;"></div>
<script type="text/javascript" src="https://pannellum.org/js/bootstrap-native.min.js"></script>
<script type="text/javascript" src="https://cdn.pannellum.org/2.4/pannellum.js"></script>
<script>

function bootstrapJS(data,index){
    let is;
    let url = data[index].imgpath;
    let hotSpots = [];
    for (let i=0;i<data[index].point.length;i++) {
      is = data[index].point[i].sceneId;
      hotSpots.push(
        {
          "pitch":data[index].point[i].x,
          "yaw":data[index].point[i].y,
          "type": "scene",
          "sceneId":data[index].point[i].sceneId
        }
      )
    }
    pannellum.viewer('panorama', {
       "default": {
        "firstScene": data[index].point[0]['sceneId'],
        "autoLoad": true,
        "showControls":false,
        "minHfov":50,
        "maxHfov":60
      },
    
      "scenes":(function(){
        let a ={};

        let point = data[index].point;
        for (let i=0;i<point.length;i++) {
            let {sceneId,x,y} = point[i];
            let sUrl = data.filter(v=>v.ids==sceneId);
            if(sUrl.length) sUrl = sUrl[0].img;
            else sUrl = ""
            a[sceneId] = {
                "hfov": 50,
                "pitch": 10,
                "yaw": 50,
                "type": "equirectangular",
                "panorama": sUrl,
                "hotSpots":hotSpots
            }
        }

         return a
      }())
    });
}
</script>
</div>
</body>
</html>